{% extends '::adminTemplate.html.twig' %}

{% block mainMenu %}
    {% include 'AdministracionBundle:Templates:mainMenu.html.twig' with {'page':'pedidos'} %}
{% endblock %}

{% block breadcrumbs %}
    {% include 'AdministracionBundle:Templates:breadcrumbs.html.twig' with {'items':[
    {'raiz':false,'title':'Pedidos','href':'#'},
    {'raiz':true,'title':'Listado Pedidos'}
    ]} %}
{% endblock %}

{% block titulo %}<i class="fa fa-bullhorn"></i> Listado de Pedidos{% endblock %}
{% block subTitulo %}{% endblock %}
{% block generalContent %}
    <div class="content animate-panel">
        <div class="row">
            <div class="col-lg-12">
                <div class="hpanel">
                    <div class="panel-heading">
                            <div class="panel-tools">
                                    <a class="showhide"><i class="fa fa-chevron-up"></i></a>
                                    <a class="closebox"><i class="fa fa-times"></i></a>
                            </div>

                    </div>
                    <div class="panel-body">
                        <table id="example1" class="display table table-bordered"  data-url="{{ path('administracion_pedido_listar') }}">
                            <thead>
                            <tr>
                                <th style="width:50px;"><input type="checkbox" id="selectAllPedido"/></th>
                                <th style="width:50px;">CÃ³digo</th>
                                <th style="width:150px;">Fecha</th>
                                <th style="width:50px;">Comprador</th>
                                <th style="width:50px;">Monto Total</th>
                                <th style="width:50px;">Estado</th>

                            </tr>
                            </thead>
                            <tbody></tbody>
                            <tfoot>
                            <button type="button" id="detallesPedido" 
                                    class="buttonDataTable btn btn-default" disabled 
                                    data-url="{{ path('administracion_pedido_detalle') }}"
                                    style="margin-right: 5px; padding: 5px; margin-bottom: 10px;">
                                    <i class="fa fa-search"></i> Ver Detalles
                            </button>
                            <button type="button" id="cambiarEstadoPedido" 
                                    class="buttonDataTable btn btn-primary cambiarEstadoPedido" disabled  
                                    data-url="{{ path('public_pedido_cambiar_estado') }}"
                                    style="margin-right: 5px; padding: 5px; margin-bottom: 10px;">
                                <i class="fa fa-edit"></i> Cambiar Estado
                            </button>
                            <button type="button" id="liberarFondosPedido" 
                                    class="buttonDataTable btn btn-danger liberarFondosPedido" disabled 
                                    data-url="{{ path('administracion_pedido_liberar_fondos') }}"
                                    style="margin-right: 5px;padding: 5px; margin-bottom: 10px;"><i class="fa fa-money"></i> Liberar Fondos</button>
                            <div id="example1_filter" class="dataTables_filter" style="text-align: left">
                                <div>
                                    <label>Buscar:<input type="search" id='search_text' class="form-control input-sm" placeholder="" aria-controls="example1"></label>
                                </div>
                                <div>
                                    <label>Fecha: 
                                        <input type='text' id='search_fromdate' class="form-control datepicker" placeholder='Desde' aria-controls="example1"> 
                                        <input type='text' id='search_todate' class="form-control datepicker" placeholder='Hasta' aria-controls="example1">
                                    </label>
                                </div>
                            </div>
                            
                            
                            </tfoot>
                        </table>

                    </div>
                </div>


            </div>

        </div>
    </div>
    <a id="aModalDetallePedido" style="visibility: hidden" href="#modalDetallePedido" data-toggle="modal" ><i class="fa fa-edit"></i> DDD</a>
    <a id="aModalCambiarEstadoPedido"  style="visibility: hidden"  class="" href="#modalCambiarEstadoPedido"  data-toggle="modal" ><i class="fa fa-edit"></i>DDDDD</a>
    {% include 'AdministracionBundle:Pedido:modalDetalle.html.twig'%}
    {% include 'AdministracionBundle:Pedido:modalCambiarEstadoPedido.html.twig' %}
    

    <input type="hidden" value="{{ path('administracion_anuncio_listar') }}" id="urlListar">
    <input type="hidden" value="{{ path('administracion_anuncio_editar') }}" id="urlEditar">
    <input type="hidden" value="{{ asset(uploads_images_productos) }}" id="urlImagen">

{% endblock  %}

{% block customScripts %}

    <!-- Vendor scripts -->

    <script type="text/javascript" src="{{ asset('bundles/administracion/js/jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/jquery-ui.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/jquery.slimscroll.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/metisMenu.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/metisMenu.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/icheck.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/sparkline/index.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/index.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/jquery.dataTables.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/dataTables.bootstrap.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/bootstrap.min.js') }}"></script>

    <!-- App scripts -->
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/homer.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/vue.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/vue-resource.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/bootstrap-datepicker.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/bootstrap-datepicker.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/administracion/js/administracionPedido.js') }}"></script>

    <script>
        $('#fechaRegistroAdicionarUsuario').datepicker({
            format: "dd/mm/yyyy",
            autoclose: true
        });
    </script>
{% endblock %}
